<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Finance Tracker</title><style>@import url('https://www.google.com/search?q=https://fonts.googleapis.com/css2%3Ffamily%3DInter:wght%40400%3B500%3B600%3B700%26display%3Dswap');body {font-family: 'Inter', sans-serif;background-color: #f4f7f9;color: #333;margin: 0;padding: 20px;display: flex;justify-content: center;align-items: flex-start;flex-wrap: wrap;}.container {display: flex;flex-wrap: wrap;justify-content: center;gap: 20px;max-width: 1200px;width: 100%;}.dashboard, .forms {background: #fff;border-radius: 12px;box-shadow: 0 4px 6px rgba(0,0,0,0.1);padding: 30px;margin-bottom: 20px;}.dashboard {flex: 2 1 600px;}.forms {flex: 1 1 350px;display: flex;flex-direction: column;gap: 20px;}h1, h2 {color: #2c3e50;border-bottom: 2px solid #ecf0f1;padding-bottom: 10px;margin-top: 0;}.balance-info {font-size: 2.5rem;font-weight: 700;margin-bottom: 20px;color: #27ae60;text-align: center;}.balance-label {font-size: 1rem;font-weight: 500;color: #7f8c8d;margin-top: -10px;display: block;}.charts-container {display: flex;justify-content: space-around;flex-wrap: wrap;gap: 20px;margin-top: 30px;}.chart-box {width: 100%;max-width: 500px;text-align: center;}.chart-box img {max-width: 100%;height: auto;border-radius: 8px;}form {display: flex;flex-direction: column;gap: 15px;}label {font-weight: 600;color: #34495e;}input, select {width: 100%;padding: 10px;border: 1px solid #bdc3c7;border-radius: 8px;box-sizing: border-box;transition: all 0.3s ease;}input:focus, select:focus {border-color: #3498db;outline: none;box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);}.submit-btn {background-color: #3498db;color: #fff;padding: 12px 20px;border: none;border-radius: 8px;font-size: 1rem;font-weight: 600;cursor: pointer;transition: background-color 0.3s ease;}.submit-btn:hover {background-color: #2980b9;}.csv-upload-section {border-top: 2px solid #ecf0f1;padding-top: 20px;margin-top: 20px;}</style></head><body><div class="container"><div class="forms"><h2>Manual Entry</h2><form action="/add_transaction" method="POST"><label for="date">Date:</label><input type="date" id="date" name="date" value="{{ today }}" required>        <label for="description">Description:</label>
        <input type="text" id="description" name="description" placeholder="e.g. Coffee" required>
        
        <label for="amount">Amount ($):</label>
        <input type="number" id="amount" name="amount" step="0.01" placeholder="e.g. 4.50" required>
        
        <label for="type">Type:</label>
        <select id="type" name="type" required>
            <option value="Expense">Expense</option>
            <option value="Income">Income</option>
        </select>
        
        <label for="category">Category:</label>
        <select id="category" name="category">
            <option value="Food">Food</option>
            <option value="Rent">Rent</option>
            <option value="Entertainment">Entertainment</option>
            <option value="Utilities">Utilities</option>
            <option value="Transportation">Transportation</option>
            <option value="Other">Other</option>
        </select>

        <button type="submit" class="submit-btn">Add Transaction</button>
    </form>

    <div class="csv-upload-section">
        <h2>CSV Upload</h2>
        <form action="/upload_csv" method="POST" enctype="multipart/form-data">
            <label for="csv_file">Select CSV file:</label>
            <input type="file" id="csv_file" name="file" accept=".csv" required>
            <button type="submit" class="submit-btn">Upload CSV</button>
        </form>
    </div>
</div>

<div class="dashboard">
    <h1>Finance Tracker Dashboard</h1>
    
    <h2>Current Balance</h2>
    <div class="balance-info">
        <span class="balance-amount">${{ "%.2f"|format(balance) }}</span>
        <span class="balance-label">Remaining Balance</span>
    </div>

    <div class="charts-container">
        {% if pie_chart_img %}
        <div class="chart-box">
            <h2>Category Distribution</h2>
            <img src="data:image/png;base64,{{ pie_chart_img }}" alt="Expense Distribution Pie Chart">
        </div>
        {% endif %}

        {% if bar_chart_img %}
        <div class="chart-box">
            <h2>Expenses Over Time</h2>
            <img src="data:image/png;base64,{{ bar_chart_img }}" alt="Expenses Over Time Bar Chart">
        </div>
        {% endif %}
    </div>
</div>
</div></body></html>